{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\n\nconst KEY = \"feedback-form-state\";\nconst feedbackForm = document.querySelector(\".feedback-form\");\n\nlet formData = { email: \"\", message: \"\" };\n\n\npopulateFormFromStorage();\n\nfeedbackForm.addEventListener('input', inputsHandler);\nfeedbackForm.addEventListener('submit', submitHandler);\n\nfunction inputsHandler(event) {\n    const { name, value } = event.target;\n    formData[name] = value.trim();\n\n    try {\n        localStorage.setItem(KEY, JSON.stringify(formData));\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nfunction submitHandler(event) {\n    event.preventDefault();\n    const userEmail = event.currentTarget.elements.email.value.trim();\n    const userMessage = event.currentTarget.elements.message.value.trim();\n\n    if (!userEmail || !userMessage) {\n        return alert(\"Please fill in all fields\");\n    }\n\n    console.dir(formData);\n    localStorage.removeItem(KEY);\n    event.currentTarget.reset();\n    formData = { email: \"\", message: \"\" }; \n}\n\nfunction populateFormFromStorage() {\n    try {\n        const dataFromStorage = JSON.parse(localStorage.getItem(KEY));\n        if (dataFromStorage) {\n            formData = dataFromStorage;\n            for (const key in dataFromStorage) {\n                if (feedbackForm.elements[key]) {\n                    feedbackForm.elements[key].value = dataFromStorage[key];\n                }\n            }\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}"],"names":["KEY","feedbackForm","formData","populateFormFromStorage","inputsHandler","submitHandler","event","name","value","error","userEmail","userMessage","dataFromStorage","key"],"mappings":"wFAEA,MAAMA,EAAM,sBACNC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAGvCC,IAEAF,EAAa,iBAAiB,QAASG,CAAa,EACpDH,EAAa,iBAAiB,SAAUI,CAAa,EAErD,SAASD,EAAcE,EAAO,CAC1B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAC9BJ,EAASK,CAAI,EAAIC,EAAM,KAAI,EAE3B,GAAI,CACA,aAAa,QAAQR,EAAK,KAAK,UAAUE,CAAQ,CAAC,CACrD,OAAQO,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACL,CAEA,SAASJ,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMI,EAAYJ,EAAM,cAAc,SAAS,MAAM,MAAM,OACrDK,EAAcL,EAAM,cAAc,SAAS,QAAQ,MAAM,OAE/D,GAAI,CAACI,GAAa,CAACC,EACf,OAAO,MAAM,2BAA2B,EAG5C,QAAQ,IAAIT,CAAQ,EACpB,aAAa,WAAWF,CAAG,EAC3BM,EAAM,cAAc,QACpBJ,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACvC,CAEA,SAASC,GAA0B,CAC/B,GAAI,CACA,MAAMS,EAAkB,KAAK,MAAM,aAAa,QAAQZ,CAAG,CAAC,EAC5D,GAAIY,EAAiB,CACjBV,EAAWU,EACX,UAAWC,KAAOD,EACVX,EAAa,SAASY,CAAG,IACzBZ,EAAa,SAASY,CAAG,EAAE,MAAQD,EAAgBC,CAAG,EAGjE,CACJ,OAAQJ,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACL"}