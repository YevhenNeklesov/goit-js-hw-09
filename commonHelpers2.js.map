{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\n\nconst formData = { email: \"\", message: \"\" }\nconst KEY = \"feedback-form-state\";\n\n\nconst feedbackForm = document.querySelector(\".feedback-form\");\npopulateFormFromStorage();\n\nfeedbackForm.addEventListener('input', inputsHandler);\nfeedbackForm.addEventListener('submit', submitHandler);\n\n\n\n\n\nfunction inputsHandler(event) {\n    formData.email = event.currentTarget.elements.email.value.trim();\n    formData.message = event.currentTarget.elements.message.value.trim();\n\n    try {\n        localStorage.setItem(KEY, JSON.stringify(formData));\n    } catch (error) {\n        console.log(err);\n        return;\n    }\n\n}\n\nfunction submitHandler(event) {\n    event.preventDefault();\n    const userEmail = event.currentTarget.elements.email.value.trim();\n    const userMessage = event.currentTarget.elements.message.value.trim();\n\n    if (!userEmail || !userMessage) {\n        return alert(\"Fill please all fields\");\n    }\n\n    console.dir(formData);\n    localStorage.removeItem(KEY);\n    event.currentTarget.reset();\n }\n\nfunction populateFormFromStorage() {\n    let dataFromStorage = {};\n     try {\n        dataFromStorage = JSON.parse(localStorage.getItem(KEY))\n    } catch (error) {\n        console.log(err);\n        return;\n     }\n    \n    if (!dataFromStorage) {\n        return;\n    }\n\n    for (const key in dataFromStorage) {\n        feedbackForm.elements[key].value = dataFromStorage[key];\n    }\n }\n"],"names":["formData","KEY","feedbackForm","populateFormFromStorage","inputsHandler","submitHandler","event","userEmail","userMessage","dataFromStorage","key"],"mappings":"wFAEA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,EACrCC,EAAM,sBAGNC,EAAe,SAAS,cAAc,gBAAgB,EAC5DC,IAEAD,EAAa,iBAAiB,QAASE,CAAa,EACpDF,EAAa,iBAAiB,SAAUG,CAAa,EAMrD,SAASD,EAAcE,EAAO,CAC1BN,EAAS,MAAQM,EAAM,cAAc,SAAS,MAAM,MAAM,OAC1DN,EAAS,QAAUM,EAAM,cAAc,SAAS,QAAQ,MAAM,OAE9D,GAAI,CACA,aAAa,QAAQL,EAAK,KAAK,UAAUD,CAAQ,CAAC,CACrD,MAAe,CACZ,QAAQ,IAAI,GAAG,EACf,MACH,CAEL,CAEA,SAASK,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,cAAc,SAAS,MAAM,MAAM,OACrDE,EAAcF,EAAM,cAAc,SAAS,QAAQ,MAAM,OAE/D,GAAI,CAACC,GAAa,CAACC,EACf,OAAO,MAAM,wBAAwB,EAGzC,QAAQ,IAAIR,CAAQ,EACpB,aAAa,WAAWC,CAAG,EAC3BK,EAAM,cAAc,OACtB,CAEF,SAASH,GAA0B,CAC/B,IAAIM,EAAkB,CAAA,EACrB,GAAI,CACDA,EAAkB,KAAK,MAAM,aAAa,QAAQR,CAAG,CAAC,CACzD,MAAe,CACZ,QAAQ,IAAI,GAAG,EACf,MACF,CAEF,GAAKQ,EAIL,UAAWC,KAAOD,EACdP,EAAa,SAASQ,CAAG,EAAE,MAAQD,EAAgBC,CAAG,CAE9D"}